<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habibul Hasan Hasib - Digital Business Card</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;800&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Font Setup */
        .font-serif-custom { font-family: 'Cinzel', serif; }
        .font-sans-custom { font-family: 'Lato', sans-serif; }

        /* Textured Paper Background */
        .bg-texture {
            background-color: #f7f5f0;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transition: transform 0.1s ease-out;
            transform-style: preserve-3d;
        }

        /* Standard Curly Braces (2nd Bracket) SVG */
        .curly-brace-left {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='100' viewBox='0 0 20 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 1 C10 1 5 10 5 25 V40 C5 48 0 50 0 50 C0 50 5 52 5 60 V75 C5 90 10 99 20 99' stroke='%2364748b' stroke-width='1.5' stroke-linecap='round' fill='none'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-size: 100% 100%;
        }
        .curly-brace-right {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='100' viewBox='0 0 20 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 1 C10 1 15 10 15 25 V40 C15 48 20 50 20 50 C20 50 15 52 15 60 V75 C15 90 10 99 0 99' stroke='%2364748b' stroke-width='1.5' stroke-linecap='round' fill='none'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-size: 100% 100%;
        }

        /* Email Provider Interactive Styles */
        .email-provider {
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px; 
        }
        .email-provider:hover {
            transform: translateX(5px) scale(1.02);
            font-weight: 700;
            color: #334155;
        }
        
        /* Number Grid Layout */
        .number-grid {
            display: grid;
            grid-template-columns: auto auto auto;
            grid-template-rows: 15px auto 15px;
            column-gap: 1px; 
            align-items: center;
        }
        
        /* Bracket connect lines */
        .bracket-line-top {
            border-top: 1.5px solid #64748b;
            border-left: 1.5px solid #64748b;
            border-right: 1.5px solid #64748b;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            height: 100%;
            margin-bottom: -4px; 
            position: relative;
            transition: all 0.3s ease;
        }

        .bracket-line-bottom {
            border-bottom: 1.5px solid #64748b;
            border-left: 1.5px solid #64748b;
            border-right: 1.5px solid #64748b;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
            height: 100%;
            margin-top: -4px; 
            position: relative;
            transition: all 0.3s ease;
        }

        .number-grid:hover .bracket-line-top { border-color: #475569; }
        .number-grid:hover .bracket-line-bottom { border-color: #475569; }
        
        .bracket-icon {
            position: absolute;
            background-color: #f7f5f0; 
            padding: 0 4px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 20;
        }
        .top-icon { top: -13px; }
        .bottom-icon { bottom: -13px; }

        /* Notification Toast */
        #toast {
            visibility: hidden;
            background-color: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(4px);
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 10px 20px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 20px;
            transform: translateX(-50%) translateY(20px);
            font-size: 13px;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        #toast.show { visibility: visible; opacity: 1; transform: translateX(-50%) translateY(0); bottom: 40px; }

        /* Mobile Scale Utility */
        .responsive-text { font-size: clamp(0.55rem, 1.4vw, 1rem); }
        .responsive-header { font-size: clamp(0.85rem, 2.8vw, 2.4rem); } 
        .responsive-sub { font-size: clamp(0.65rem, 1.5vw, 1.3rem); } 
        .responsive-number { font-size: clamp(0.7rem, 1.9vw, 1.6rem); } 
        .responsive-email { font-size: clamp(0.55rem, 1.3vw, 1.0rem); } 
        .responsive-social { font-size: clamp(0.65rem, 1.4vw, 1.1rem); }
        .responsive-website { font-size: clamp(0.55rem, 1.3vw, 1.0rem); }

        /* Grid Areas for the Card */
        .card-layout {
            display: grid;
            grid-template-columns: 38% 62%;
            grid-template-rows: auto 1fr;
            height: 100%;
            column-gap: 8px; 
        }

        /* Desktop Adjustments for Grid */
        @media (min-width: 768px) {
            .card-layout {
                grid-template-columns: 35% 65%;
                column-gap: 30px;
            }
        }

        /* Animations */
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-left { animation: slideInLeft 0.8s ease-out forwards; opacity: 0; }
        .animate-right { animation: slideInRight 0.8s ease-out 0.2s forwards; opacity: 0; }
        .animate-up { animation: fadeInUp 0.8s ease-out 0.4s forwards; opacity: 0; }
        
        .social-icon-btn {
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), color 0.2s;
        }
        .social-icon-btn:hover {
            transform: translateY(-3px) scale(1.1);
        }

        /* Download Button Animation */
        .download-btn {
            animation: bounceIn 1s ease-out 1s forwards;
            opacity: 0;
            transform: scale(0.5);
        }
        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.5); }
            60% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="bg-gray-200 min-h-screen flex items-center justify-center p-2 md:p-6 overflow-hidden perspective-1000">

    <!-- Card Container -->
    <div id="card" class="bg-texture relative w-full max-w-[800px] aspect-[1.85/1] rounded-[30px] shadow-2xl overflow-hidden border border-gray-300">
        
        <!-- Background Swoosh -->
        <div class="absolute inset-0 pointer-events-none z-0 opacity-40">
            <svg class="w-full h-full" viewBox="0 0 500 280" preserveAspectRatio="none">
                <path d="M-10,120 Q250,80 510,130" fill="none" stroke="#94a3b8" stroke-width="1.5" />
            </svg>
        </div>

        <!-- Balanced Padding -->
        <div class="card-layout relative z-10 w-full h-full p-4 md:p-12">
            
            <!-- TOP LEFT: Name & Identity -->
            <div class="flex flex-col justify-start pt-1 md:pt-2 pl-1 animate-left">
                <h1 class="font-serif-custom text-slate-800 font-extrabold uppercase responsive-header leading-tight whitespace-nowrap drop-shadow-sm">
                    Habibul Hasan Hasib
                </h1>
                <p class="text-slate-500 font-sans-custom responsive-sub mt-0 tracking-wide font-medium">
                    Pharmacist
                </p>

                <!-- Website Address -->
                <div class="mt-3 md:mt-6 animate-up" style="animation-delay: 0.6s;">
                    <a href="https://habibulhasan.art.blog" target="_blank" class="flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors group w-max">
                        <i class="fas fa-globe responsive-website group-hover:rotate-12 transition-transform text-slate-400 group-hover:text-slate-600"></i>
                        <span class="font-sans-custom responsive-website font-medium border-b border-transparent group-hover:border-slate-800 transition-colors">habibulhasan.art.blog</span>
                    </a>
                </div>
            </div>

            <!-- RIGHT COLUMN: Contact Info -->
            <div class="flex flex-col justify-center md:justify-end h-full pl-1 md:pl-4 gap-1 md:gap-4 pt-2 md:pb-6 pr-2 md:pr-4"> 
                
                <!-- 1. Numbers Block -->
                <div class="flex justify-end items-center animate-right">
                    <div class="number-grid group">
                        <!-- Top Bracket (WhatsApp) -->
                        <div class="col-span-2 h-full relative">
                            <div class="bracket-line-top">
                                <a href="https://wa.me/8801601767234" target="_blank" class="bracket-icon top-icon text-green-600 hover:scale-110 transition-transform">
                                    <i class="fab fa-whatsapp responsive-text"></i>
                                </a>
                            </div>
                        </div>
                        <div></div> 

                        <!-- Numbers -->
                        <div class="font-sans-custom text-slate-700 font-bold tracking-wide responsive-number group-hover:text-slate-900 transition-colors">016</div>
                        <div class="font-sans-custom text-slate-700 font-bold tracking-wide responsive-number px-1 group-hover:text-slate-900 transition-colors">01767234</div>
                        <div class="font-sans-custom text-slate-700 font-bold tracking-wide responsive-number group-hover:text-slate-900 transition-colors">671</div>

                        <!-- Bottom Bracket (Phone) -->
                        <div></div> 
                        <div class="col-span-2 h-full relative">
                             <div class="bracket-line-bottom">
                                <a href="tel:+8801767234671" class="bracket-icon bottom-icon text-slate-600 hover:text-blue-600 hover:scale-110 transition-transform">
                                    <i class="fas fa-phone responsive-text transform rotate-90"></i>
                                </a>
                             </div>
                        </div>
                    </div>
                </div>

                <!-- 2. Email & Socials Block -->
                <div class="flex items-center justify-end animate-up">
                    
                    <!-- Handle & Social Icons Group -->
                    <div class="relative flex flex-col items-end mr-2 justify-center flex-shrink-0">
                        <!-- Handle -->
                        <div class="font-medium text-slate-600 responsive-email mb-0.5 pt-2">habibulhaasan@</div>
                        
                        <!-- Social Icons Row -->
                        <div class="absolute top-full right-0 -mt-2 flex gap-2 text-slate-400 justify-end w-max">
                            <a href="https://facebook.com/habibulhaasan" target="_blank" class="social-icon-btn hover:text-blue-600" title="Facebook">
                                <i class="fab fa-facebook responsive-social"></i>
                            </a>
                            <a href="https://t.me/habibulhaasan" target="_blank" class="social-icon-btn hover:text-sky-500" title="Telegram">
                                <i class="fab fa-telegram responsive-social"></i>
                            </a>
                            <a href="https://x.com/habibulhaasan" target="_blank" class="social-icon-btn hover:text-black" title="X (Twitter)">
                                <i class="fab fa-twitter responsive-social"></i>
                            </a>
                            <a href="https://linkedin.com/in/habibulhaasan" target="_blank" class="social-icon-btn hover:text-blue-700" title="LinkedIn">
                                <i class="fab fa-linkedin responsive-social"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Left Curly Brace -->
                    <div class="curly-brace-left w-3 md:w-5 flex-shrink-0" style="height: clamp(80px, 20vw, 150px);"></div>

                    <!-- Email List -->
                    <div class="flex flex-col justify-center px-1 text-slate-500 font-medium responsive-email w-auto pt-2 gap-1 flex-shrink-0">
                        <div class="email-provider gmail group" onclick="copyEmail('gmail.com')">
                            <i class="fab fa-google text-sm group-hover:text-[#EA4335] transition-colors"></i> gmail
                        </div>
                        <div class="email-provider yahoo group" onclick="copyEmail('yahoo.com')">
                            <i class="fab fa-yahoo text-sm group-hover:text-[#6001D2] transition-colors"></i> yahoo
                        </div>
                        <div class="email-provider hotmail group" onclick="copyEmail('hotmail.com')">
                            <i class="fas fa-envelope text-sm group-hover:text-[#0078D4] transition-colors"></i> hotmail
                        </div>
                        <div class="email-provider outlook group" onclick="copyEmail('outlook.com')">
                            <i class="fab fa-microsoft text-sm group-hover:text-[#0078D4] transition-colors"></i> outlook
                        </div>
                        <div class="email-provider proton group" onclick="copyEmail('protonmail.com')">
                            <i class="fas fa-lock text-sm group-hover:text-[#6D4AFF] transition-colors"></i> protonmail
                        </div>
                    </div>

                    <!-- Right Curly Brace -->
                    <div class="curly-brace-right w-3 md:w-5 flex-shrink-0" style="height: clamp(80px, 20vw, 150px);"></div>

                    <!-- Suffix -->
                    <div class="font-medium ml-1 text-slate-600 responsive-email pt-2 flex-shrink-0">.com</div>
                </div>

            </div>
        </div>
    </div>

    <!-- Floating Download Button -->
    <button onclick="downloadCard()" class="download-btn fixed bottom-6 right-6 md:bottom-10 md:right-10 bg-slate-800 text-white p-4 rounded-full shadow-xl hover:bg-slate-700 hover:scale-110 transition-all z-50 flex items-center justify-center group" title="Download Card as JPEG">
        <i class="fas fa-download text-xl group-hover:animate-bounce"></i>
    </button>

    <!-- Notification Toast -->
    <div id="toast">Copied to clipboard!</div>

    <script>
        function copyEmail(domain) {
            const user = "habibulhaasan";
            const fullEmail = `${user}@${domain}`;
            
            const toast = document.getElementById("toast");
            toast.innerText = `Copied: ${fullEmail}`;
            toast.className = "show";
            setTimeout(() => toast.className = toast.className.replace("show", ""), 2500);

            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(fullEmail).catch(() => fallbackCopy(fullEmail));
            } else {
                fallbackCopy(fullEmail);
            }
        }

        function fallbackCopy(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.left = "-9999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try { document.execCommand('copy'); } catch (e) {}
            document.body.removeChild(textArea);
        }

        const card = document.getElementById('card');
        document.addEventListener('mousemove', (e) => {
            if (window.innerWidth > 768) {
                const x = (window.innerWidth / 2 - e.pageX) / 40;
                const y = (window.innerHeight / 2 - e.pageY) / 40;
                card.style.transform = `rotateY(${x}deg) rotateX(${y}deg)`;
            }
        });
        
        document.addEventListener('mouseleave', () => {
             if (window.innerWidth > 768) {
                card.style.transform = `rotateY(0deg) rotateX(0deg)`;
             }
        });

        function downloadCard() {
            const cardElement = document.getElementById('card');
            const downloadBtn = document.querySelector('.download-btn');

            // 1. Hide button
            downloadBtn.style.display = 'none';

            // 2. Snapshot current state
            const originalTransform = cardElement.style.transform;
            const originalBoxShadow = cardElement.style.boxShadow;
            
            // Calculate current font sizes to freeze them
            // We specifically target elements with our responsive classes
            const responsiveSelectors = [
                '.responsive-text', 
                '.responsive-header', 
                '.responsive-sub', 
                '.responsive-number', 
                '.responsive-email', 
                '.responsive-social', 
                '.responsive-website'
            ];
            
            const elementsToFreeze = [];
            
            responsiveSelectors.forEach(selector => {
                cardElement.querySelectorAll(selector).forEach(el => {
                    elementsToFreeze.push({
                        element: el,
                        fontSize: window.getComputedStyle(el).fontSize
                    });
                });
            });

            // 3. Prepare for capture
            cardElement.style.transform = "none";
            cardElement.classList.remove('shadow-2xl');
            
            // Reset animations
            const animatedElements = cardElement.querySelectorAll('.animate-left, .animate-right, .animate-up');
            animatedElements.forEach(el => {
                el.dataset.originalClasses = el.className;
                el.dataset.originalOpacity = el.style.opacity;
                el.dataset.originalTransform = el.style.transform;
                el.classList.remove('animate-left', 'animate-right', 'animate-up');
                el.style.opacity = '1';
                el.style.transform = 'none';
            });

            // 4. Capture
            html2canvas(cardElement, {
                scale: 3, 
                useCORS: true,
                allowTaint: true,
                backgroundColor: "#f7f5f0", 
                logging: false,
                windowWidth: window.innerWidth,
                windowHeight: window.innerHeight,
                onclone: (clonedDoc) => {
                    const clonedCard = clonedDoc.getElementById('card');
                    
                    // Freeze Layout on Clone
                    if (clonedCard) {
                        clonedCard.style.width = cardElement.offsetWidth + 'px';
                        clonedCard.style.height = cardElement.offsetHeight + 'px';
                        clonedCard.style.maxWidth = 'none';
                        clonedCard.style.margin = '0';
                        clonedCard.style.padding = window.getComputedStyle(cardElement).padding;
                    }

                    // Apply frozen font sizes to cloned elements
                    // We need to find the matching elements in the cloned document
                    // Since the DOM structure is identical, we can map by index if strict, 
                    // but querySelectorAll returns in document order so it's safe here.
                    responsiveSelectors.forEach(selector => {
                        const originalEls = cardElement.querySelectorAll(selector);
                        const clonedEls = clonedDoc.querySelectorAll(selector);
                        
                        originalEls.forEach((el, index) => {
                            if (clonedEls[index]) {
                                clonedEls[index].style.fontSize = window.getComputedStyle(el).fontSize;
                            }
                        });
                    });
                }
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'habibul-hasan-card.jpeg';
                link.href = canvas.toDataURL("image/jpeg", 0.95);
                link.click();
            }).catch(err => {
                console.error("Download failed:", err);
                alert("Failed to download card. Please try again.");
            }).finally(() => {
                // 5. Restore
                downloadBtn.style.display = 'flex';
                cardElement.style.transform = originalTransform;
                cardElement.classList.add('shadow-2xl');
                cardElement.style.boxShadow = originalBoxShadow;
                
                animatedElements.forEach(el => {
                    el.className = el.dataset.originalClasses;
                    if (el.dataset.originalOpacity !== undefined) el.style.opacity = el.dataset.originalOpacity;
                    if (el.dataset.originalTransform !== undefined) el.style.transform = el.dataset.originalTransform;
                    delete el.dataset.originalClasses;
                    delete el.dataset.originalOpacity;
                    delete el.dataset.originalTransform;
                });
            });
        }

    </script>
</body>
</html>
